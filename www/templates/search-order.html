<ion-view view-title="Search Order" name="search-order-view" ng-controller="SearchOrderCtrl" ng-init="searchOrder()">
  <ion-content direction="y" class="has-header has-footer" overflow-scroll="false" scroll="false">
    <div class="search-input">
      <div class="search-filter">
        <span translate="SEARCH_ORDER.GEN_FILTER"></span>
        <input type="text" ng-model="search.$">
      </div>
      <div class="date-filter">
        <span translate="SEARCH_ORDER.DATE_FILTER"></span>
        <select ng-model="selectedFilter.type" ng-selected="$first">
          <option ng-value="filterTypes.type[0]" translate="SEARCH_ORDER.DATE_FILTER.CREATED"></option>
          <option ng-value="filterTypes.type[1]" translate="SEARCH_ORDER.DATE_FILTER.DEADLINE"></option>
          <option ng-value="filterTypes.type[2]" translate="SEARCH_ORDER.DATE_FILTER.DELIVERY"></option>
        </select>
        <button ng-click="openDatePicker()" translate="SEARCH_ORDER.SELECT_DATE_BUTTON"></button>
      </div>
      <button class="" ng-click="resetFilters()" translate="SEARCH_ORDER.RESET_FILTERS"></button>
    </div>
    <ion-scroll style="height: 400px;">
      <ion-list>
        <ion-item ng-repeat="result in searchResult | filter:search" ng-click="openOrderMenu(result)">
          <div>
            <order order-data="result"></order>
            <hr>
          </div>
        </ion-item>
      </ion-list>
      <ion-infinite-scroll ng-if="moreData"
                           immediate-check="false"
                           on-infinite="loadMoreOrders()"
                           distance="1%"></ion-infinite-scroll>
    </ion-scroll>
  </ion-content>
</ion-view>
