<ion-view view-title="Update Status" name="status-update-view" ng-controller="StatusUpdateCtrl as ctrl">
  <ion-nav-view class="header">
    <ion-view>
      <ion-content scroll="false">
        <h2>Update Status</h2>
      </ion-content>
    </ion-view>
  </ion-nav-view>
  <ion-content direction="y" class="has-header has-footer" scroll="false">
    <div class="card">
      <div class="row">
        <div class="col h4">{{ctrl.order.orderNo}}</div>
        <div class="col h4">{{ctrl.order.status}}</div>
      </div>
      <div class="row">
        <div class="col">{{ctrl.order.customer.firstname}}</div>
        <div class="col">Created: {{ctrl.order.created | date:'dd.mm.yyyy'}}</div>
      </div>
      <div class="row">
        <div class="col">{{ctrl.order.customer.lastname}}</div>
        <div class="col">Deadline: {{ctrl.order.deadlineFinish | date:'dd.mm.yyyy'}}</div>
      </div>
      <div class="row">
        <div class="col">{{ctrl.order.customer.companyName}}</div>
        <div class="col">Delivery: {{ctrl.order.deadlineDelivery | date:'dd.mm.yyyy'}}</div>
      </div>
      <div class="row">
        <div class="col">{{ctrl.order.customerNumberOrder}}</div>
        <div class="col">{{ctrl.order.driver}}</div>
      </div>
    </div>
    <ion-scroll overflow-scroll="false" style="height: 230px; overflow-y: hidden" scrollbar-y="false">
      <ul class="list" ng-repeat="wheelRim in ctrl.order.wheelRimPositions">
        <li class="item card no-margin-card">
          <div class="row">
            <div class="col"><h2 style="font-weight: bolder">{{wheelRim.positionNo}}</h2></div>
          </div>
          <div class="row">
            <div class="col">{{wheelRim.manufacturerWheel.description}}</div>
            <div class="col">{{wheelRim.status}}</div>
          </div>
          <div class="row">
            <div class="col">{{wheelRim.model.description}}</div>
            <div class="col">{{wheelRim.manufacturerRim.description}}</div>
          </div>
          <div class="row">
            <div class="col">{{wheelRim.modelType.description}}</div>
            <div class="col">{{wheelRim.width}}</div>
          </div>
          <div class="row">
            <div class="col">{{wheelRim.size}}</div>
            <div class="col">{{wheelRim.height}}</div>
          </div>
          <div class="row">
            <div class="col">{{wheelRim.hubCover}}</div>
            <div class="col">{{wheelRim.diameter}}</div>
          </div>
          <div class="row">
            <div class="col">{{wheelRim.valveType.description}}</div>
            <div class="col">{{wheelRim.index}}</div>
          </div>
          <div class="row">
            <div class="col">{{wheelRim.speed}}</div>
          </div>
        </li>
      </ul>
    </ion-scroll>
    <div class="card card-without-shadow">
      <div class="row">
        <div class="col">
          <div class="self-align-center">
            <button class="btn-status" ng-class="{'status-active' : ctrl.order.status === 'IN_PROCESS'}" ng-click="updateStatus('IN_PROCESS')">In Process</button>
          </div>
        </div>
        <div class="col">
          <div class="self-align-center">
            <button class="btn-status" ng-class="{'status-active' : ctrl.order.status === 'PROCESSED'}" ng-click="updateStatus('PROCESSED')">Processed</button>
          </div>
        </div>
        <div class="col">
          <div class="self-align-center">
            <button class="btn-status" ng-class="{'status-active' : ctrl.order.status === 'IN_DELIVERY'}" ng-click="updateStatus('IN_DELIVERY')">In Delivery</button>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
  <div class="bar bar-footer">
    <button class="button button-positive btn-back">Back</button>
  </div>
</ion-view>
